
 <!DOCTYPE HTML>
<html lang="zh_cn">
<head>
  <meta charset="UTF-8">
  
    <title>CentOS lnmp环境搭建SVN服务 | BoxCore</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
    
    <meta name="author" content="chunze.huang">
    
    <meta name="description" content="安装svn相关基础环境说明：环境：CentOS 6.3原有服务环境：lnmpa 1.0 full
安装svn的版本： subversion 1.8.3由于lnmpa编译的时候没有安上—enable-dav 故svn使用不了httpd的服务，我们只用svn协议来访问同步好后再执行钩子程序同步到虚拟空间">
    
    
    
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/Tinny.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/Tinny.jpg">
    

	
	<link href="http://cdn.bootcss.com/highlight.js/8.2/styles/railscasts.min.css" rel="stylesheet">
	<script src="http://cdn.bootcss.com/highlight.js/8.2/highlight.min.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	

    <link rel="stylesheet" href="/css/style.css" type="text/css">


</head>

  <body>
    <header>
      <div>
		
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="BoxCore">BoxCore</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
                    <ul>
					 
						<li><a href="/">首页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="https://github.com/boxcore">Project</a></li>
					
					<li>
					
					</li>
                <li><div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div></li>

				</ul>
			</nav>	
</div>

    </header>
    <div id="container" class="clearfix">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2013/11/24/centos-lnmp-install-svn/" title="CentOS lnmp环境搭建SVN服务" itemprop="url">CentOS lnmp环境搭建SVN服务</a>
  </h1>
  <p class="article-author">By
    
      <a href="http://boxcore.org" title="chunze.huang">chunze.huang</a>
    </p>
  <p class="article-time">
    <time datetime="2013-11-24T14:42:49.000Z" itemprop="datePublished">11月 24 2013</time>
    Updated:<time datetime="2015-01-28T11:48:45.000Z" itemprop="dateModified">1月 28 2015</time>
    
  </p>
</header>
	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">Contents</strong>
		<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#wget_http://archive-apache-org/dist/apr/apr-1-4-8-tar-gz_#LAMP中已经下载"><span class="toc-number">1.</span> <span class="toc-text">wget http://archive.apache.org/dist/apr/apr-1.4.8.tar.gz #LAMP中已经下载</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#wget_http://archive-apache-org/dist/apr/apr-util-1-5-2-tar-gz"><span class="toc-number">2.</span> <span class="toc-text">wget http://archive.apache.org/dist/apr/apr-util-1.5.2.tar.gz</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#tar_xzf_apr-1-4-8-tar-gz"><span class="toc-number">3.</span> <span class="toc-text">tar xzf apr-1.4.8.tar.gz</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cd_apr-1-4-8"><span class="toc-number">4.</span> <span class="toc-text">cd apr-1.4.8</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#-/configure_—prefix=/usr/local/apache"><span class="toc-number">5.</span> <span class="toc-text">./configure —prefix=/usr/local/apache</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#make_&&_make_install"><span class="toc-number">6.</span> <span class="toc-text">make && make install</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cd_-/"><span class="toc-number">7.</span> <span class="toc-text">cd ../</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#tar_xzf_apr-util-1-5-2-tar-gz"><span class="toc-number">8.</span> <span class="toc-text">tar xzf apr-util-1.5.2.tar.gz</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cd_apr-util-1-5-2"><span class="toc-number">9.</span> <span class="toc-text">cd apr-util-1.5.2</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#-/configure_—prefix=/usr/local/apache-1"><span class="toc-number">10.</span> <span class="toc-text">./configure —prefix=/usr/local/apache</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#make_&&_make_install-1"><span class="toc-number">11.</span> <span class="toc-text">make && make install</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cd_-/-1"><span class="toc-number">12.</span> <span class="toc-text">cd ../</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#wget_http://serf-googlecode-com/files/serf-1-2-1-tar-bz2_#serf-1-2-1-zip是win版有问题"><span class="toc-number">13.</span> <span class="toc-text">wget http://serf.googlecode.com/files/serf-1.2.1.tar.bz2 #serf-1.2.1.zip是win版有问题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#tar_xjf_serf-1-2-1-tar-bz2"><span class="toc-number">14.</span> <span class="toc-text">tar xjf serf-1.2.1.tar.bz2</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cd_serf-1-2-1"><span class="toc-number">15.</span> <span class="toc-text">cd serf-1.2.1</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#-/configure_—prefix=/usr/local/serf_—with-apr=/usr/local/apache_—with-apr-util=/usr/local/apache"><span class="toc-number">16.</span> <span class="toc-text">./configure —prefix=/usr/local/serf —with-apr=/usr/local/apache —with-apr-util=/usr/local/apache</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#make_&&_make_install-1"><span class="toc-number">17.</span> <span class="toc-text">make && make install</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cd_-"><span class="toc-number">18.</span> <span class="toc-text">cd ..</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#tar_xzf_subversion-1-8-3-tar-gz"><span class="toc-number">19.</span> <span class="toc-text">tar xzf subversion-1.8.3.tar.gz</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cd_subversion-1-8-1"><span class="toc-number">20.</span> <span class="toc-text">cd subversion-1.8.1</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#-/get-deps-sh_//此步骤会等比较久，是配置svn服务库的脚步，完成后会出现如下提醒"><span class="toc-number">21.</span> <span class="toc-text">./get-deps.sh //此步骤会等比较久，是配置svn服务库的脚步，完成后会出现如下提醒</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#-/configure_—prefix=/usr/local/subversion_—with-apxs=/usr/local/apache/bin/apxs_—with-apr=/usr/local/apache_—with-apr-util=/usr/local/apache_—with-zlib_—with-openssl_—enable-maintainer-mode_—with-serf=/usr/local/serf_—enable-mod-activation"><span class="toc-number">22.</span> <span class="toc-text">./configure —prefix=/usr/local/subversion —with-apxs=/usr/local/apache/bin/apxs —with-apr=/usr/local/apache —with-apr-util=/usr/local/apache —with-zlib —with-openssl —enable-maintainer-mode —with-serf=/usr/local/serf —enable-mod-activation</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#make_&&_make_install-1"><span class="toc-number">23.</span> <span class="toc-text">make && make install</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cd_--1"><span class="toc-number">24.</span> <span class="toc-text">cd ..</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#LoadModule_dav_svn_module_/usr/local/subversion/libexec/mod_dav_svn-so"><span class="toc-number">25.</span> <span class="toc-text">LoadModule dav_svn_module /usr/local/subversion/libexec/mod_dav_svn.so</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#LoadModule_authz_svn_module_/usr/local/subversion/libexec/mod_authz_svn-so"><span class="toc-number">26.</span> <span class="toc-text">LoadModule authz_svn_module /usr/local/subversion/libexec/mod_authz_svn.so</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ln_-s_/usr/local/subversion/bin/svn_/usr/local/bin"><span class="toc-number">27.</span> <span class="toc-text">ln -s /usr/local/subversion/bin/svn /usr/local/bin</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#echo_“export_PATH=$PATH:/usr/local/subversion/bin/“_>>_/etc/profile"><span class="toc-number">28.</span> <span class="toc-text">echo “export PATH=$PATH:/usr/local/subversion/bin/“ >> /etc/profile</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#source_/etc/profile"><span class="toc-number">29.</span> <span class="toc-text">source /etc/profile</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#mkdir_-p_/opt/svn/svntest/"><span class="toc-number">30.</span> <span class="toc-text">mkdir -p /opt/svn/svntest/</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#svnadmin_create_/opt/svn/svntest/"><span class="toc-number">31.</span> <span class="toc-text">svnadmin create /opt/svn/svntest/</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cd_/opt/svn/svntest/conf/"><span class="toc-number">32.</span> <span class="toc-text">cd /opt/svn/svntest/conf/</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vi_svnserve-conf"><span class="toc-number">33.</span> <span class="toc-text">vi svnserve.conf</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#authz-db_=_authz"><span class="toc-number">33.1.</span> <span class="toc-text">authz-db = authz</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vim_authz_//给svntest仓库添加一个用户，权限为可写。"><span class="toc-number">34.</span> <span class="toc-text">vim authz //给svntest仓库添加一个用户，权限为可写。</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#testuser_=_rw"><span class="toc-number">34.1.</span> <span class="toc-text">testuser = rw</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vi_passwd"><span class="toc-number">35.</span> <span class="toc-text">vi passwd</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#//由于是测试，密码设置为123456"><span class="toc-number">35.1.</span> <span class="toc-text">//由于是测试，密码设置为123456</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#testuser_=_123456"><span class="toc-number">35.2.</span> <span class="toc-text">testuser = 123456</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#svnserve_-d_-r_/opt/svn/"><span class="toc-number">36.</span> <span class="toc-text">svnserve -d -r /opt/svn/</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#/usr/local/subversion/bin/svnserve_-d_-r_/opt/svn/"><span class="toc-number">37.</span> <span class="toc-text">/usr/local/subversion/bin/svnserve -d -r /opt/svn/</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vim_/etc/rc-d/rc-local"><span class="toc-number">38.</span> <span class="toc-text">vim /etc/rc.d/rc.local</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#netstat_-tunlp_|_grep_svn"><span class="toc-number">39.</span> <span class="toc-text">netstat -tunlp | grep svn</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ps_-aux|grep_svn"><span class="toc-number">40.</span> <span class="toc-text">ps -aux|grep svn</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#kill_-9_node"><span class="toc-number">41.</span> <span class="toc-text">kill -9 node</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#svn_checkout_svn://42-51-133-35/zoy/_/home/wwwroot/zoy-ch-boxcore-org/"><span class="toc-number">42.</span> <span class="toc-text">svn checkout svn://42.51.133.35/zoy/ /home/wwwroot/zoy.ch.boxcore.org/</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#svn_update_/home/wwwroot/zoy-ch-boxcore-org/"><span class="toc-number">43.</span> <span class="toc-text">svn update /home/wwwroot/zoy.ch.boxcore.org/</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vim_/opt/svn/zoy/hooks/post-commit"><span class="toc-number">44.</span> <span class="toc-text">vim /opt/svn/zoy/hooks/post-commit</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#chown_-R_www:www_$WEB"><span class="toc-number">44.1.</span> <span class="toc-text">chown -R www:www $WEB</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#chmod_777_/opt/svn/zoy/hooks/post-commit"><span class="toc-number">45.</span> <span class="toc-text">chmod 777 /opt/svn/zoy/hooks/post-commit</span></a></li></ol>
		</div>
		
		<p><strong>安装svn相关基础环境说明：</strong><br>环境：CentOS 6.3<br>原有服务环境：lnmpa 1.0 full</p>
<p>安装svn的版本： subversion 1.8.3<br>由于lnmpa编译的时候没有安上—enable-dav 故svn使用不了httpd的服务，我们只用svn协议来访问<br>同步好后再执行钩子程序同步到虚拟空间下做网站服务。</p>
<p><strong>安装步骤：</strong></p>
<p>各个安装包说明：<br>1.self 1.2.1 推荐版本，1.3.0后面会出现报错。<br>Subversion 1.8中http客户端基于neon已经被移除如果要支持http方式需要在安装svn前安装serf，安装serf推荐用serf-1.2.1<br>2.apr、apr-unit<br>安装apr、apr-unit</p>
<p><pre class="brush:bash"># cd /root/lamp/source</pre></p>
<h1 id="wget_http://archive-apache-org/dist/apr/apr-1-4-8-tar-gz_#LAMP中已经下载">wget <a href="http://archive.apache.org/dist/apr/apr-1.4.8.tar.gz" target="_blank" rel="external">http://archive.apache.org/dist/apr/apr-1.4.8.tar.gz</a> #LAMP中已经下载</h1>
<h1 id="wget_http://archive-apache-org/dist/apr/apr-util-1-5-2-tar-gz">wget <a href="http://archive.apache.org/dist/apr/apr-util-1.5.2.tar.gz" target="_blank" rel="external">http://archive.apache.org/dist/apr/apr-util-1.5.2.tar.gz</a></h1>
<h1 id="tar_xzf_apr-1-4-8-tar-gz">tar xzf apr-1.4.8.tar.gz</h1>
<h1 id="cd_apr-1-4-8">cd apr-1.4.8</h1>
<h1 id="-/configure_—prefix=/usr/local/apache">./configure —prefix=/usr/local/apache</h1>
<h1 id="make_&amp;&amp;_make_install">make &amp;&amp; make install</h1>
<h1 id="cd_-/">cd ../</h1>
<h1 id="tar_xzf_apr-util-1-5-2-tar-gz">tar xzf apr-util-1.5.2.tar.gz</h1>
<h1 id="cd_apr-util-1-5-2">cd apr-util-1.5.2</h1>
<h1 id="-/configure_—prefix=/usr/local/apache-1">./configure —prefix=/usr/local/apache</h1>
<h1 id="make_&amp;&amp;_make_install-1">make &amp;&amp; make install</h1>
<h1 id="cd_-/-1">cd ../</h1>
<p><strong>2.安装serf-1.2.1 （需要httpd服务才安装，下面只是参考，将不进行安装）</strong></p>
<p><pre class="brush:bash"># yum -y install expat-devel</pre></p>
<h1 id="wget_http://serf-googlecode-com/files/serf-1-2-1-tar-bz2_#serf-1-2-1-zip是win版有问题">wget <a href="http://serf.googlecode.com/files/serf-1.2.1.tar.bz2" target="_blank" rel="external">http://serf.googlecode.com/files/serf-1.2.1.tar.bz2</a> #serf-1.2.1.zip是win版有问题</h1>
<h1 id="tar_xjf_serf-1-2-1-tar-bz2">tar xjf serf-1.2.1.tar.bz2</h1>
<h1 id="cd_serf-1-2-1">cd serf-1.2.1</h1>
<h1 id="-/configure_—prefix=/usr/local/serf_—with-apr=/usr/local/apache_—with-apr-util=/usr/local/apache">./configure —prefix=/usr/local/serf —with-apr=/usr/local/apache —with-apr-util=/usr/local/apache</h1>
<h1 id="make_&amp;&amp;_make_install-1">make &amp;&amp; make install</h1>
<h1 id="cd_-">cd ..</h1>
<p>&nbsp;</p>
<p><strong>3.安装svn</strong></p>
<p><pre class="brush:bash"># wget <a href="http://mirror.bit.edu.cn/apache/subversion/subversion-1.8.3.tar.gz" target="_blank" rel="external">http://mirror.bit.edu.cn/apache/subversion/subversion-1.8.3.tar.gz</a></pre></p>
<h1 id="tar_xzf_subversion-1-8-3-tar-gz">tar xzf subversion-1.8.3.tar.gz</h1>
<h1 id="cd_subversion-1-8-1">cd subversion-1.8.1</h1>
<h1 id="-/get-deps-sh_//此步骤会等比较久，是配置svn服务库的脚步，完成后会出现如下提醒">./get-deps.sh //此步骤会等比较久，是配置svn服务库的脚步，完成后会出现如下提醒</h1>
<hr>
<p>If you require mod_dav_svn, the recommended version of httpd is:<br><a href="http://archive.apache.org/dist/httpd/httpd-2.4.6.tar.bz2" target="_blank" rel="external">http://archive.apache.org/dist/httpd/httpd-2.4.6.tar.bz2</a></p>
<p>If you require apr-iconv, its recommended version is:<br><a href="http://archive.apache.org/dist/apr/apr-iconv-1.2.1.tar.bz2" target="_blank" rel="external">http://archive.apache.org/dist/apr/apr-iconv-1.2.1.tar.bz2</a></p>
<hr>
<h1 id="-/configure_—prefix=/usr/local/subversion_—with-apxs=/usr/local/apache/bin/apxs_—with-apr=/usr/local/apache_—with-apr-util=/usr/local/apache_—with-zlib_—with-openssl_—enable-maintainer-mode_—with-serf=/usr/local/serf_—enable-mod-activation">./configure —prefix=/usr/local/subversion —with-apxs=/usr/local/apache/bin/apxs —with-apr=/usr/local/apache —with-apr-util=/usr/local/apache —with-zlib —with-openssl —enable-maintainer-mode —with-serf=/usr/local/serf —enable-mod-activation</h1>
<h1 id="make_&amp;&amp;_make_install-1">make &amp;&amp; make install</h1>
<h1 id="cd_--1">cd ..</h1>
<p>&nbsp;</p>
<p><strong>4. 检测svn是否安装成功</strong></p>
<p><pre class="brush:bash"># vim /usr/local/apache/conf/httpd.conf</pre></p>
<h1 id="LoadModule_dav_svn_module_/usr/local/subversion/libexec/mod_dav_svn-so">LoadModule dav_svn_module /usr/local/subversion/libexec/mod_dav_svn.so</h1>
<h1 id="LoadModule_authz_svn_module_/usr/local/subversion/libexec/mod_authz_svn-so">LoadModule authz_svn_module /usr/local/subversion/libexec/mod_authz_svn.so</h1>
<p>&nbsp;</p>
<p><strong>5.把svn相关的命令添加到环境变量中</strong></p>
<p><pre class="brush:bash">/<em> 方法一 </em>/</pre></p>
<h1 id="ln_-s_/usr/local/subversion/bin/svn_/usr/local/bin">ln -s /usr/local/subversion/bin/svn /usr/local/bin</h1>
<p>//这样在ssh中直接输入 svn —version就可以看到svn的版本等信息了<br>/<em> 方法二 (未测试) </em>/</p>
<h1 id="echo_“export_PATH=$PATH:/usr/local/subversion/bin/“_&gt;&gt;_/etc/profile">echo “export PATH=$PATH:/usr/local/subversion/bin/“ &gt;&gt; /etc/profile</h1>
<h1 id="source_/etc/profile">source /etc/profile</h1>
<p><strong>* svn项目配置 建立仓库</strong></p>
<p><pre class="brush:bash"># mkdir -p /opt/svn/</pre></p>
<h1 id="mkdir_-p_/opt/svn/svntest/">mkdir -p /opt/svn/svntest/</h1>
<h1 id="svnadmin_create_/opt/svn/svntest/">svnadmin create /opt/svn/svntest/</h1>
<p>或 /usr/local/subversion/bin/svnadmin create /opt/svn/mall/</p>
<p>/<em>修改配置文件</em>/</p>
<h1 id="cd_/opt/svn/svntest/conf/">cd /opt/svn/svntest/conf/</h1>
<h1 id="vi_svnserve-conf">vi svnserve.conf</h1>
<hr>
<p><pre class="brush:bash">[general]<br>anon-access = none<br>auth-access = write<br>password-db = passwd</pre></p>
<h2 id="authz-db_=_authz">authz-db = authz</h2>
<h1 id="vim_authz_//给svntest仓库添加一个用户，权限为可写。">vim authz //给svntest仓库添加一个用户，权限为可写。</h1>
<hr>
<p>[svntest:/]</p>
<h2 id="testuser_=_rw">testuser = rw</h2>
<h1 id="vi_passwd">vi passwd</h1>
<h2 id="//由于是测试，密码设置为123456">//由于是测试，密码设置为123456</h2>
<h2 id="testuser_=_123456">testuser = 123456</h2>
<p>//设置好后启用svn服务</p>
<h1 id="svnserve_-d_-r_/opt/svn/">svnserve -d -r /opt/svn/</h1>
<p>或</p>
<h1 id="/usr/local/subversion/bin/svnserve_-d_-r_/opt/svn/">/usr/local/subversion/bin/svnserve -d -r /opt/svn/</h1>
<p>//添加到开机启动</p>
<h1 id="vim_/etc/rc-d/rc-local">vim /etc/rc.d/rc.local</h1>
<p>然后写入上面的代码</p>
<p>//查看是否启用了</p>
<h1 id="netstat_-tunlp_|_grep_svn">netstat -tunlp | grep svn</h1>
<h1 id="ps_-aux|grep_svn">ps -aux|grep svn</h1>
<p>//杀死进程</p>
<h1 id="kill_-9_node">kill -9 node</h1>
<p><strong>* SVN钩子程序设置</strong></p>
<p>说明：<br>首先要在网站目录下检出文件</p>
<h1 id="svn_checkout_svn://42-51-133-35/zoy/_/home/wwwroot/zoy-ch-boxcore-org/">svn checkout svn://42.51.133.35/zoy/ /home/wwwroot/zoy.ch.boxcore.org/</h1>
<h1 id="svn_update_/home/wwwroot/zoy-ch-boxcore-org/">svn update /home/wwwroot/zoy.ch.boxcore.org/</h1>
<h1 id="vim_/opt/svn/zoy/hooks/post-commit">vim /opt/svn/zoy/hooks/post-commit</h1>
<hr>
<p><pre class="brush:bash">#!/bin/sh<br>SVN=/usr/local/subversion/bin/svn<br>WEB=/home/wwwroot/zoy.ch.boxcore.org<br>$SVN update $WEB —username 用户名 —password 密码</pre></p>
<h2 id="chown_-R_www:www_$WEB">chown -R www:www $WEB</h2>
<h1 id="chmod_777_/opt/svn/zoy/hooks/post-commit">chmod 777 /opt/svn/zoy/hooks/post-commit</h1>
<p>&nbsp;</p>
<p><strong>参考文档:</strong><br><a href="http://blog.csdn.net/xiaodanpeng/article/details/8898794" target="_blank" rel="external">http://blog.csdn.net/xiaodanpeng/article/details/8898794</a><br><a href="http://lookdfw.blog.163.com/blog/static/58249742201010652235834/" target="_blank" rel="external">http://lookdfw.blog.163.com/blog/static/58249742201010652235834/</a><br><a href="http://chenxiao18.blog.51cto.com/1144683/1196264" target="_blank" rel="external">http://chenxiao18.blog.51cto.com/1144683/1196264</a> 《对apache做./configure 增加参数支持svn<br><a href="http://freeloda.blog.51cto.com/2033581/1189145" target="_blank" rel="external">http://freeloda.blog.51cto.com/2033581/1189145</a> 《SVN 安装与配置</p>
<p><a href="http://www.open.collab.net/scdocs/ddUsingSVN_command-line.html.zh-cn" target="_blank" rel="external">http://www.open.collab.net/scdocs/ddUsingSVN_command-line.html.zh-cn</a> 《linux下svn命令</p>
  
	</div>
		<footer class="article-footer clearfix">

  <div class="article-tags">
  
  <span></span> <a href="/tags/centos/">centos</a><a href="/tags/linux/">linux</a><a href="/tags/svn/">svn</a>
  </div>


<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/linux/">linux</a>
</div>



<div class="article-share" id="share">

  <div data-url="http://boxcore.org/2013/11/24/centos-lnmp-install-svn/" data-title="CentOS lnmp环境搭建SVN服务 | BoxCore" data-tsina="null" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2013/11/26/mysql-delete-duplicate-records/" title="MySQL删除重复记录">
  <strong>PREVIOUS:</strong><br/>
  <span>
  MySQL删除重复记录</span>
</a>
</div>


<div class="next">
<a href="/2013/11/22/ecshop-cls_captcha/"  title="ecshop 的验证码 类cls_captcha 原理">
 <strong>NEXT:</strong><br/> 
 <span>ecshop 的验证码 类cls_captcha 原理
</span>
</a>
</div>

</nav>

	
</div>  
      
  <div id="toc" class="toc-aside">
  <strong class="toc-title">Contents</strong>
  <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#wget_http://archive-apache-org/dist/apr/apr-1-4-8-tar-gz_#LAMP中已经下载"><span class="toc-number">1.</span> <span class="toc-text">wget http://archive.apache.org/dist/apr/apr-1.4.8.tar.gz #LAMP中已经下载</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#wget_http://archive-apache-org/dist/apr/apr-util-1-5-2-tar-gz"><span class="toc-number">2.</span> <span class="toc-text">wget http://archive.apache.org/dist/apr/apr-util-1.5.2.tar.gz</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#tar_xzf_apr-1-4-8-tar-gz"><span class="toc-number">3.</span> <span class="toc-text">tar xzf apr-1.4.8.tar.gz</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cd_apr-1-4-8"><span class="toc-number">4.</span> <span class="toc-text">cd apr-1.4.8</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#-/configure_—prefix=/usr/local/apache"><span class="toc-number">5.</span> <span class="toc-text">./configure —prefix=/usr/local/apache</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#make_&&_make_install"><span class="toc-number">6.</span> <span class="toc-text">make && make install</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cd_-/"><span class="toc-number">7.</span> <span class="toc-text">cd ../</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#tar_xzf_apr-util-1-5-2-tar-gz"><span class="toc-number">8.</span> <span class="toc-text">tar xzf apr-util-1.5.2.tar.gz</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cd_apr-util-1-5-2"><span class="toc-number">9.</span> <span class="toc-text">cd apr-util-1.5.2</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#-/configure_—prefix=/usr/local/apache-1"><span class="toc-number">10.</span> <span class="toc-text">./configure —prefix=/usr/local/apache</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#make_&&_make_install-1"><span class="toc-number">11.</span> <span class="toc-text">make && make install</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cd_-/-1"><span class="toc-number">12.</span> <span class="toc-text">cd ../</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#wget_http://serf-googlecode-com/files/serf-1-2-1-tar-bz2_#serf-1-2-1-zip是win版有问题"><span class="toc-number">13.</span> <span class="toc-text">wget http://serf.googlecode.com/files/serf-1.2.1.tar.bz2 #serf-1.2.1.zip是win版有问题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#tar_xjf_serf-1-2-1-tar-bz2"><span class="toc-number">14.</span> <span class="toc-text">tar xjf serf-1.2.1.tar.bz2</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cd_serf-1-2-1"><span class="toc-number">15.</span> <span class="toc-text">cd serf-1.2.1</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#-/configure_—prefix=/usr/local/serf_—with-apr=/usr/local/apache_—with-apr-util=/usr/local/apache"><span class="toc-number">16.</span> <span class="toc-text">./configure —prefix=/usr/local/serf —with-apr=/usr/local/apache —with-apr-util=/usr/local/apache</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#make_&&_make_install-1"><span class="toc-number">17.</span> <span class="toc-text">make && make install</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cd_-"><span class="toc-number">18.</span> <span class="toc-text">cd ..</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#tar_xzf_subversion-1-8-3-tar-gz"><span class="toc-number">19.</span> <span class="toc-text">tar xzf subversion-1.8.3.tar.gz</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cd_subversion-1-8-1"><span class="toc-number">20.</span> <span class="toc-text">cd subversion-1.8.1</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#-/get-deps-sh_//此步骤会等比较久，是配置svn服务库的脚步，完成后会出现如下提醒"><span class="toc-number">21.</span> <span class="toc-text">./get-deps.sh //此步骤会等比较久，是配置svn服务库的脚步，完成后会出现如下提醒</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#-/configure_—prefix=/usr/local/subversion_—with-apxs=/usr/local/apache/bin/apxs_—with-apr=/usr/local/apache_—with-apr-util=/usr/local/apache_—with-zlib_—with-openssl_—enable-maintainer-mode_—with-serf=/usr/local/serf_—enable-mod-activation"><span class="toc-number">22.</span> <span class="toc-text">./configure —prefix=/usr/local/subversion —with-apxs=/usr/local/apache/bin/apxs —with-apr=/usr/local/apache —with-apr-util=/usr/local/apache —with-zlib —with-openssl —enable-maintainer-mode —with-serf=/usr/local/serf —enable-mod-activation</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#make_&&_make_install-1"><span class="toc-number">23.</span> <span class="toc-text">make && make install</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cd_--1"><span class="toc-number">24.</span> <span class="toc-text">cd ..</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#LoadModule_dav_svn_module_/usr/local/subversion/libexec/mod_dav_svn-so"><span class="toc-number">25.</span> <span class="toc-text">LoadModule dav_svn_module /usr/local/subversion/libexec/mod_dav_svn.so</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#LoadModule_authz_svn_module_/usr/local/subversion/libexec/mod_authz_svn-so"><span class="toc-number">26.</span> <span class="toc-text">LoadModule authz_svn_module /usr/local/subversion/libexec/mod_authz_svn.so</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ln_-s_/usr/local/subversion/bin/svn_/usr/local/bin"><span class="toc-number">27.</span> <span class="toc-text">ln -s /usr/local/subversion/bin/svn /usr/local/bin</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#echo_“export_PATH=$PATH:/usr/local/subversion/bin/“_>>_/etc/profile"><span class="toc-number">28.</span> <span class="toc-text">echo “export PATH=$PATH:/usr/local/subversion/bin/“ >> /etc/profile</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#source_/etc/profile"><span class="toc-number">29.</span> <span class="toc-text">source /etc/profile</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#mkdir_-p_/opt/svn/svntest/"><span class="toc-number">30.</span> <span class="toc-text">mkdir -p /opt/svn/svntest/</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#svnadmin_create_/opt/svn/svntest/"><span class="toc-number">31.</span> <span class="toc-text">svnadmin create /opt/svn/svntest/</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cd_/opt/svn/svntest/conf/"><span class="toc-number">32.</span> <span class="toc-text">cd /opt/svn/svntest/conf/</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vi_svnserve-conf"><span class="toc-number">33.</span> <span class="toc-text">vi svnserve.conf</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#authz-db_=_authz"><span class="toc-number">33.1.</span> <span class="toc-text">authz-db = authz</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vim_authz_//给svntest仓库添加一个用户，权限为可写。"><span class="toc-number">34.</span> <span class="toc-text">vim authz //给svntest仓库添加一个用户，权限为可写。</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#testuser_=_rw"><span class="toc-number">34.1.</span> <span class="toc-text">testuser = rw</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vi_passwd"><span class="toc-number">35.</span> <span class="toc-text">vi passwd</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#//由于是测试，密码设置为123456"><span class="toc-number">35.1.</span> <span class="toc-text">//由于是测试，密码设置为123456</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#testuser_=_123456"><span class="toc-number">35.2.</span> <span class="toc-text">testuser = 123456</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#svnserve_-d_-r_/opt/svn/"><span class="toc-number">36.</span> <span class="toc-text">svnserve -d -r /opt/svn/</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#/usr/local/subversion/bin/svnserve_-d_-r_/opt/svn/"><span class="toc-number">37.</span> <span class="toc-text">/usr/local/subversion/bin/svnserve -d -r /opt/svn/</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vim_/etc/rc-d/rc-local"><span class="toc-number">38.</span> <span class="toc-text">vim /etc/rc.d/rc.local</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#netstat_-tunlp_|_grep_svn"><span class="toc-number">39.</span> <span class="toc-text">netstat -tunlp | grep svn</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ps_-aux|grep_svn"><span class="toc-number">40.</span> <span class="toc-text">ps -aux|grep svn</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#kill_-9_node"><span class="toc-number">41.</span> <span class="toc-text">kill -9 node</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#svn_checkout_svn://42-51-133-35/zoy/_/home/wwwroot/zoy-ch-boxcore-org/"><span class="toc-number">42.</span> <span class="toc-text">svn checkout svn://42.51.133.35/zoy/ /home/wwwroot/zoy.ch.boxcore.org/</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#svn_update_/home/wwwroot/zoy-ch-boxcore-org/"><span class="toc-number">43.</span> <span class="toc-text">svn update /home/wwwroot/zoy.ch.boxcore.org/</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vim_/opt/svn/zoy/hooks/post-commit"><span class="toc-number">44.</span> <span class="toc-text">vim /opt/svn/zoy/hooks/post-commit</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#chown_-R_www:www_$WEB"><span class="toc-number">44.1.</span> <span class="toc-text">chown -R www:www $WEB</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#chmod_777_/opt/svn/zoy/hooks/post-commit"><span class="toc-number">45.</span> <span class="toc-text">chmod 777 /opt/svn/zoy/hooks/post-commit</span></a></li></ol>
  </div>

<div id="asidepart">
<div id="authorInfo">
	
		<div class="author-logo"></div>		
	
	
	<section class="author-info">
		
			<p> 人穷志短愿望多</p>
		
		
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/abanet" target="_blank" title="weibo"></a>
		
		
		
		<a href="https://github.com/boxcore" target="_blank" title="github"></a>
		
		
	</div>
</div>
<aside class="clearfix">


  
<div class="categorieslist">
	<p class="asidetitle">Categories</p>
		<ul>
		
			<li><a href="/categories/JavaScript/" title="JavaScript">JavaScript<sup>0</sup></a></li>
		
			<li><a href="/categories/Journal/" title="Journal">Journal<sup>1</sup></a></li>
		
			<li><a href="/categories/linux/MySQL/" title="MySQL">MySQL<sup>0</sup></a></li>
		
			<li><a href="/categories/MySQL/" title="MySQL">MySQL<sup>3</sup></a></li>
		
			<li><a href="/categories/linux/PHP/" title="PHP">PHP<sup>0</sup></a></li>
		
			<li><a href="/categories/PHP/" title="PHP">PHP<sup>9</sup></a></li>
		
			<li><a href="/categories/MySQL/PHP/" title="PHP">PHP<sup>1</sup></a></li>
		
			<li><a href="/categories/Tools/" title="Tools">Tools<sup>0</sup></a></li>
		
			<li><a href="/categories/linux/Tools/" title="Tools">Tools<sup>0</sup></a></li>
		
			<li><a href="/categories/linux/" title="linux">linux<sup>17</sup></a></li>
		
			<li><a href="/categories/未分类/" title="未分类">未分类<sup>2</sup></a></li>
		
		</ul>
</div>


  
  <div class="archiveslist">
    <p class="asidetitle"><a href="/archives">Archives</a></p>
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a><span class="archive-list-count">16</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">December 2013</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">November 2013</a><span class="archive-list-count">10</span></li></ul>
  </div>


  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			<li><a href="/tags/CTags/" title="CTags">CTags<sup>0</sup></a></li>
		
			<li><a href="/tags/DocBlockr/" title="DocBlockr">DocBlockr<sup>0</sup></a></li>
		
			<li><a href="/tags/Emmet/" title="Emmet">Emmet<sup>0</sup></a></li>
		
			<li><a href="/tags/Nginx/" title="Nginx">Nginx<sup>1</sup></a></li>
		
			<li><a href="/tags/PHP/" title="PHP">PHP<sup>0</sup></a></li>
		
			<li><a href="/tags/Package-Control/" title="Package Control">Package Control<sup>0</sup></a></li>
		
			<li><a href="/tags/Packges/" title="Packges">Packges<sup>0</sup></a></li>
		
			<li><a href="/tags/PyV8/" title="PyV8">PyV8<sup>0</sup></a></li>
		
			<li><a href="/tags/RSS/" title="RSS">RSS<sup>0</sup></a></li>
		
			<li><a href="/tags/Sublime-Text/" title="Sublime Text">Sublime Text<sup>0</sup></a></li>
		
			<li><a href="/tags/USING-BTREE/" title="USING BTREE">USING BTREE<sup>1</sup></a></li>
		
			<li><a href="/tags/apache/" title="apache">apache<sup>0</sup></a></li>
		
			<li><a href="/tags/centos/" title="centos">centos<sup>1</sup></a></li>
		
			<li><a href="/tags/da/" title="da">da<sup>0</sup></a></li>
		
			<li><a href="/tags/dedecms/" title="dedecms">dedecms<sup>0</sup></a></li>
		
			<li><a href="/tags/direactadmin/" title="direactadmin">direactadmin<sup>0</sup></a></li>
		
			<li><a href="/tags/dropbox/" title="dropbox">dropbox<sup>0</sup></a></li>
		
			<li><a href="/tags/ecshop/" title="ecshop">ecshop<sup>8</sup></a></li>
		
			<li><a href="/tags/fancybox/" title="fancybox">fancybox<sup>0</sup></a></li>
		
			<li><a href="/tags/git/" title="git">git<sup>0</sup></a></li>
		
		</ul>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >

</div>
</footer>
    <script src="/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  //back to top
  function backToTop(){
    var buttonHTML = $("<a href=\"#top\" id=\"back-top\">" + "<span>Back to Top</span></a>");
    buttonHTML.appendTo($("body"));
    var buttonToTop = $("#back-top");
    // hide #back-top first
    buttonToTop.hide();

    // fade in #back-top
    $(function() {
        $(window).scroll(function() {
            if ($(this).scrollTop() > 200) {
                buttonToTop.fadeIn();
            } else {
                buttonToTop.fadeOut();
            }
        });
        // scroll body to 0px on click
        buttonToTop.click(function() {
            $('body,html').animate({
                scrollTop: 0
            }, 800);
            return false;
        });
    });
  }
  backToTop();

  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      ta = $('#toc.toc-aside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });

  var show = true;
  c.click(function(){
    if(show == true){
        a.addClass('fadeOut').css('display', 'none');
        ta.css('display', 'block').addClass('fadeIn');
        m.addClass('moveMain');  
    }else{
        a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');     
        ta.css('display', 'none'); 
        m.removeClass('moveMain');
        $('#toc.toc-aside').css('display', 'none');
    }
    show = !show;
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{

    $(window).scroll(function(){
      ta.css("top",Math.max(140,240-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>






  </body>
</html>
